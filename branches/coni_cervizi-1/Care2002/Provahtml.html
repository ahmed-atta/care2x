<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

<head>

<title>Sans Titre</title>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
<meta name="generator" content="HAPedit 3.0">
</head>
<body bgcolor="#FFFFFF">
<script language=javascript>
var arr=new Array();
function esiste(valore)
{

ret=-1;
 for(var i=0;i<document.lista2.lista21.length;i++)
 {
  if(document.lista1.lista11.options[document.lista1.lista11.selectedIndex].value==document.lista2.lista21.options[i].value) ret=i;
 }

 return ret;
}

function aggiungi()
{
indice=esiste(document.lista1.lista11.options[document.lista1.lista11.selectedIndex].value);
if(indice!=-1)
{
// window.alert("elemento già inserito, COGLIONE!!!"+arr[document.lista1.lista11.options[document.lista1.lista11.selectedIndex].value]);
 arr[document.lista1.lista11.options[document.lista1.lista11.selectedIndex].value]++;
 document.lista2.lista21.options[indice].text=document.lista1.lista11.options[document.lista1.lista11.selectedIndex].text+arr[document.lista1.lista11.options[document.lista1.lista11.selectedIndex].value];
}
else
{
arr[document.lista1.lista11.options[document.lista1.lista11.selectedIndex].value]=1;
 document.lista2.lista21.options[document.lista2.lista21.length]=null;

new1=new Option(document.lista1.lista11.options[document.lista1.lista11.selectedIndex].text,document.lista1.lista11.options[document.lista1.lista11.selectedIndex].value);
 document.lista2.lista21.options[document.lista2.lista21.options.length]=new1;
 }
}

function estrai_descr(codice)
{
 
 for(var i=0;i<document.lista1.lista11.length;i++)
 {
  if(document.lista1.lista11.options[i].value==codice) 
{
return document.lista1.lista11.options[i].text;
break;
}
 }

}

function rimuovi()
{
descrizione=estrai_descr(document.lista2.lista21.options[document.lista2.lista21.selectedIndex].value);

arr[document.lista2.lista21.options[document.lista2.lista21.selectedIndex].value]--;

if(arr[document.lista2.lista21.options[document.lista2.lista21.selectedIndex].value]==1) document.lista2.lista21.options[document.lista2.lista21.selectedIndex].text=descrizione;
else document.lista2.lista21.options[document.lista2.lista21.selectedIndex].text=descrizione+arr[document.lista2.lista21.options[document.lista2.lista21.selectedIndex].value];

if(arr[document.lista2.lista21.options[document.lista2.lista21.selectedIndex].value]==0) document.lista2.lista21.options[document.lista2.lista21.selectedIndex]=null;

}

</script>

<form name=lista1>
<select name=lista11 size=10>
<option value="10"> Francesco </option>

<option value="11">Marco</option>
</select>
</form>
<input type=button value="inserisci" onclick="javascript:aggiungi();">
<input type=button value="rimuovi" onclick="javascript:rimuovi();">
<form name=lista2 >
<select name=lista21 size=10>
</select>
</form>
<?php echo "cacca";?>

<hr />
HAPedit 3.0.11.102 (aprile 2004 12.39.18)

</body>
</html>