<form action="" method="post" name="frmOrg" flexy:ignore>
<input name="action" type="hidden" value="update" />
<input type="hidden" name="org[organisation_id]" value="{org.organisation_id}" /> 
<input type="hidden" name="org[order_id]" value="{org.order_id}" />
<input type="hidden" name="org[original_parent_id]" value="{org.parent_id}" />

<h1 class="pageTitle">{translate(pageTitle)}</h1>
<span flexy:if="msgGet()">{msgGet()}</span>
<table class="narrow">
	<tr>
		<th colspan="2">{translate(#Details#)}</th>
	</tr>
	<tr>
		<td class="fieldName" width="50%"><span class="error">*</span>{translate(#Name#)}</td>
		<td align="left" width="50%">
            <div class="error" flexy:if="error[name]">{translate(error[name])}</div>
            <input name="org[name]" type="text" value="{org.name}" />
        </td>
	</tr>
	<tr>
		<td class="fieldName">{translate(#Description#)}</td>
		<td align="left">
            <textarea cols="19" rows="5" name="org[description]">{org.description}</textarea>
        </td>
	</tr>
	<tr>
		<td class="fieldName">{translate(#Default Role#)}</td>
		<td align="left">
            <select name="org[role_id]">
                {generateSelect(aRoles,org.role_id):h}
            </select>
        </td>
	</tr>
   {if:conf[OrgMgr][typeEnabled]}
	<tr>
		<td class="fieldName">{translate(#Type#)}</td>
		<td align="left">
            <select name="org[organisation_type_id]">
                {generateSelect(aOrgTypes,currentOrgType):h}
            </select>
        </td>
	</tr>
    {end:}
    <tr>
        <td class="fieldName">{translate(#Parent Org#)}</td>
        <td>
            <select name="org[parent_id]">
                {orgHierOptions:h}
            </select>
        </td>
    </tr>
    <tr>
        <td class="fieldName"><span class="error">*</span>{translate(#Email#)}</td>
        <td align="left">
            <div class="error" flexy:if="error[email]">
                {translate(error[email])}
            </div><input name="org[email]" type="text" value="{org.email}" />
        </td>
    </tr>
	<tr>
		<td class="fieldName">{translate(#Website#)}</td>
		<td align="left">
            <div class="error" flexy:if="error[website]">{translate(error[website])}</div>
            <input name="org[website]" type="text" value="{org.website}" />
        </td>
	</tr>
	<tr>
		<th colspan="2">{translate(#Location#)}</th>
	</tr>
	<tr>
		<td class="fieldName"><span class="error">*</span>{translate(#Address 1#)}</td>
		<td align="left">
            <div class="error" flexy:if="error[addr_1]">{translate(error[addr_1])}</div>
            <input name="org[addr_1]" type="text" value="{org.addr_1}" />
            </td>
	</tr>
	<tr>
		<td class="fieldName">{translate(#Address 2#)}</td>
		<td align="left"><input name="org[addr_2]" type="text" value="{org.addr_2}" /></td>
	</tr>
	<tr>
		<td class="fieldName">{translate(#Address 3#)}</td>
		<td align="left"><input name="org[addr_3]" type="text" value="{org.addr_3}" /></td>
	</tr>
	<tr>
		<td class="fieldName"><span class="error">*</span>{translate(#City#)}</td>
		<td align="left">
            <div class="error" flexy:if="error[city]">{translate(error[city])}</div>
            <input name="org[city]" type="text" value="{org.city}" />
            </td>
	</tr>
	<tr>
		<td class="fieldName">{translate(#State/Province#)}e</td>
		<td align="left">
            <select name="org[region]">
                {generateSelect(states,org.region):h}
            </select>
        </td>
	</tr>
	<tr>
		<td class="fieldName"><span class="error">*</span>{translate(#ZIP/Postal Code#)}</td>
		<td align="left">
            <div class="error" flexy:if="error[post_code]">{translate(error[post_code])}</div>
            <input name="org[post_code]" type="text" value="{org.post_code}" />
        </td>
	</tr>
	<tr>
		<td class="fieldName"><span class="error">*</span>{translate(#Country#)}</td>
		<td align="left">
            <div class="error" flexy:if="error[country]">{translate(error[country])}</div>
            <select name="org[country]">
                {generateSelect(countries,org.country):h}
            </select>
        </td>
	</tr>
	<tr>
		<th colspan="2">{translate(#Contact#)}</th>
	</tr>
	<tr>
		<td class="fieldName">{translate(#Telephone#)}</td>
		<td align="left"><input name="org[telephone]" type="text" value="{org.telephone}" /></td>
	</tr>
	<tr>
		<td align="center" colspan="2">
            <input class="wideButton" name="submitted" value="{translate(#Submit#)}" type="submit" />
            <input class="wideButton" type="button" value="{translate(#Cancel#)}" onclick="javascript:document.location.href='{makeUrl(##,#org#,#user#)}'" /> 
        </td>
	</tr>
	<tr>
	    <td align="center" colspan="2">
                <span class="small"><span class="error">*</span> {translate(#denotes required field#)}</span>
            </td>
	</tr>
</table>
</form>
