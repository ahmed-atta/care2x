<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Care2x: C:/Users/holyghost/care2x/trunk/Care2007/modules/weberp/RecurringSalesOrdersProcess.php File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Packages</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<h1>C:/Users/holyghost/care2x/trunk/Care2007/modules/weberp/RecurringSalesOrdersProcess.php File Reference</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#95757ae733e9e27e27ed26559dc0c0c0">$AllowAnyone</a> = true</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#da57e7bb7c152edad18fe2f166188691">$title</a> = _('Recurring Orders Process')</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#047170d6020a882807665812a27e2525">$sql</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#1c504f1aedf70981b33a68ea77f96050">$RecurrOrdersDueResult</a> = DB_query($sql,$<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>,_('There was <a class="el" href="help__pt-br__patient__folder_8php.html#71eb57b65d6970d51160a9e54bf7a324">a</a> problem retrieving the recurring sales order templates. The <a class="el" href="testdatabases_8inc_8php.html#9dad3d41236cdf64302a014d0495a408">database</a> reported:'))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#6733eb5f605d09eaede9845835d71c4e">exit</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#112ef069ddc0454086e3d1e6d8d55d07">$result</a> = DB_query('BEGIN',$<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#aa09313a14b65195283b4f264a2719f2">$DelDate</a> = FormatDateforSQL(DateAdd(ConvertSQLDate($RecurrOrderRow['lastrecurrence']),'<a class="el" href="help__tr__nursing__report_8php.html#f95bba4b2a086f59c6e8fd27341c9926">d</a>',(365/$RecurrOrderRow['frequency'])))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#177d192b7698132dfec4c6717ed544de">$HeaderSQL</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#85c9c2462778e8fd472aa79bdf9c39bb">$ErrMsg</a> = _('The order cannot be added because')</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#bc9f7df6bc0b47d892fe7c26339fc61c">$InsertQryResult</a> = DB_query($HeaderSQL,$<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>,$ErrMsg,true)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#ae2b23e62c219b9c8356de20e94676cc">$OrderNo</a> = DB_Last_Insert_ID($<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>,'salesorders','orderno')</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#e62c550e6840169337cdd8d99759a4f8">$EmailText</a> = _('<a class="el" href="help__de__nursing__ward__mng_8php.html#cf3562f6c7441edbe07855989c82ecce">A</a> new order has been created <a class="el" href="help__en__tech_8php.html#2f058300c9c84f729b4914ebee94213d">from</a> <a class="el" href="help__pt-br__patient__folder_8php.html#71eb57b65d6970d51160a9e54bf7a324">a</a> recurring order template <a class="el" href="help__sr__person__how2search_8php.html#f53e2e71ce15de5c8b6a918bb60255cb">for</a> customer') .' ' . $RecurrOrderRow['debtorno'] . ' ' . $RecurrOrderRow['branchcode'] . &quot;\n&quot; . _('The order <a class="el" href="help__sr__products_8php.html#f37bf7000d64bc5d22e0754b81f938ed">number</a> is:') . ' ' . $<a class="el" href="_select_order_items_8php.html#347e986395019d0a9411ee946ca0062b">OrderNo</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#7efaa95541c54abc04aa74526c5ee46c">$LineItemsSQL</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#cdd3527f5c722793bcd0d79c0d236e1c">$LineItemsResult</a> = db_query($LineItemsSQL,$<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>,$ErrMsg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#ef8ec367d2e117072ced899fa5bc2e22">$LineCounter</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#04be8ef53815e208d05fcbc99859b126">$Ins_LineItemResult</a> = DB_query($LineItemsSQL,$<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>,_('Could not insert the order lines <a class="el" href="help__en__tech_8php.html#2f058300c9c84f729b4914ebee94213d">from</a> the recurring order template'),true)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#390d5702f3c15330fd764dbf08d5b2db">$Result</a> = DB_query($sql,$<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>,$ErrMsg,true)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#a1aa9a4dbb80e146632425e9817e4e5a">$myrow</a> = DB_fetch_row($Result)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#9f226d0e9d144bccb47e228ce807ec9b">$Area</a> = $myrow[0]</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#b83895da2eb0baa420d3b4d9b1cd1ea4">$DefaultShipVia</a> = $myrow[1]</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#9099b34895619b877a393e3a23545417">$CustTaxAuth</a> = $myrow[2]</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#f257545da465befb663591fd6fbe85ce">$SQL</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#016204a80f26c3b1cb040691b44ab93c">$CurrencyRate</a> = $myrow[0]</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#76964a2f6d222efcc5b338f60903ab08">$DispTaxProvinceID</a> = $myrow[0]</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#bf0d96312b5a2a2196f48e9c16dcc98f">$InvoiceNo</a> = GetNextTransNo(10, $<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#70af0b6de23d548786c940d42b02f6b6">$PeriodNo</a> = GetPeriod(Date($_SESSION['DefaultDateFormat']), $<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#118a8ddea85bc76305706a96a51dbce7">$TotalFXNetInvoice</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#eacbe4640a2768fc20fe5a03408d9097">$TotalFXTax</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#cecdbafb475badc8efbc07229ce5decf">$GetTaxRatesResult</a> = DB_query($SQL,$<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>,$ErrMsg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#ff42070426a01e7aa719859a87db01c5">$LineTaxAmount</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#3274455a09b21b52043ac92d5c1faea7">$TaxTotals</a> = array()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#435e1684215f730408afa573a3c8a9d7">$TaxTotals</a> [$myrow['taxauthid']]['FXAmount'] = ($LineNetAmount+$LineTaxAmount) * $myrow['taxrate']</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#7d732704d1879c5455963ae4ebf3e114">$LineNetAmount</a> = $RecurrOrderLineRow['unitprice'] * $RecurrOrderLineRow['quantity'] *(1- floatval($RecurrOrderLineRow['discountpercent']))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#eb71f9f52325e609d6f501673ce24183">$DbgMsg</a> = _('The following SQL to update the sales order detail record was used')</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#b0e9106c4f4b2edd69351aff2d4fc659">$LocalCurrencyPrice</a> = ($RecurrOrderLineRow['unitprice'] *(1- floatval($RecurrOrderLineRow['discountpercent'])))/ $CurrencyRate</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#92b56ffdcb04ced4dc713f20cf2583b2">$StkMoveNo</a> = DB_Last_Insert_ID($<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>,'stockmoves','stkmoveno')</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_recurring_sales_orders_process_8php.html#c77c7919b6478bfc27e4c9599fa46716">$TotalInvLocalCurr</a> = ($TotalFXNetInvoice + $TotalFXTax + $RecurrOrderRow['freightcost'])/$CurrencyRate</td></tr>

</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="95757ae733e9e27e27ed26559dc0c0c0"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$AllowAnyone" ref="95757ae733e9e27e27ed26559dc0c0c0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$AllowAnyone = true          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9f226d0e9d144bccb47e228ce807ec9b"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$Area" ref="9f226d0e9d144bccb47e228ce807ec9b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$Area = $myrow[0]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="016204a80f26c3b1cb040691b44ab93c"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$CurrencyRate" ref="016204a80f26c3b1cb040691b44ab93c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$CurrencyRate = $myrow[0]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9099b34895619b877a393e3a23545417"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$CustTaxAuth" ref="9099b34895619b877a393e3a23545417" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$CustTaxAuth = $myrow[2]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="eb71f9f52325e609d6f501673ce24183"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$DbgMsg" ref="eb71f9f52325e609d6f501673ce24183" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$DbgMsg = _('The following SQL to update the sales order detail record was used')          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b83895da2eb0baa420d3b4d9b1cd1ea4"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$DefaultShipVia" ref="b83895da2eb0baa420d3b4d9b1cd1ea4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$DefaultShipVia = $myrow[1]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="aa09313a14b65195283b4f264a2719f2"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$DelDate" ref="aa09313a14b65195283b4f264a2719f2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$DelDate = FormatDateforSQL(DateAdd(ConvertSQLDate($RecurrOrderRow['lastrecurrence']),'<a class="el" href="help__tr__nursing__report_8php.html#f95bba4b2a086f59c6e8fd27341c9926">d</a>',(365/$RecurrOrderRow['frequency'])))          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="76964a2f6d222efcc5b338f60903ab08"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$DispTaxProvinceID" ref="76964a2f6d222efcc5b338f60903ab08" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$DispTaxProvinceID = $myrow[0]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e62c550e6840169337cdd8d99759a4f8"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$EmailText" ref="e62c550e6840169337cdd8d99759a4f8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$EmailText = _('<a class="el" href="help__de__nursing__ward__mng_8php.html#cf3562f6c7441edbe07855989c82ecce">A</a> new order has been created <a class="el" href="help__en__tech_8php.html#2f058300c9c84f729b4914ebee94213d">from</a> <a class="el" href="help__pt-br__patient__folder_8php.html#71eb57b65d6970d51160a9e54bf7a324">a</a> recurring order template <a class="el" href="help__sr__person__how2search_8php.html#f53e2e71ce15de5c8b6a918bb60255cb">for</a> customer') .' ' . $RecurrOrderRow['debtorno'] . ' ' . $RecurrOrderRow['branchcode'] . &quot;\n&quot; . _('The order <a class="el" href="help__sr__products_8php.html#f37bf7000d64bc5d22e0754b81f938ed">number</a> is:') . ' ' . $<a class="el" href="_select_order_items_8php.html#347e986395019d0a9411ee946ca0062b">OrderNo</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="85c9c2462778e8fd472aa79bdf9c39bb"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$ErrMsg" ref="85c9c2462778e8fd472aa79bdf9c39bb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$ErrMsg = _('The order cannot be added because')          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="cecdbafb475badc8efbc07229ce5decf"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$GetTaxRatesResult" ref="cecdbafb475badc8efbc07229ce5decf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$GetTaxRatesResult = DB_query($SQL,$<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>,$ErrMsg)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="177d192b7698132dfec4c6717ed544de"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$HeaderSQL" ref="177d192b7698132dfec4c6717ed544de" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$HeaderSQL          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="04be8ef53815e208d05fcbc99859b126"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$Ins_LineItemResult" ref="04be8ef53815e208d05fcbc99859b126" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$Ins_LineItemResult = DB_query($LineItemsSQL,$<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>,_('Could not insert the order lines <a class="el" href="help__en__tech_8php.html#2f058300c9c84f729b4914ebee94213d">from</a> the recurring order template'),true)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="bc9f7df6bc0b47d892fe7c26339fc61c"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$InsertQryResult" ref="bc9f7df6bc0b47d892fe7c26339fc61c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$InsertQryResult = DB_query($HeaderSQL,$<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>,$ErrMsg,true)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="bf0d96312b5a2a2196f48e9c16dcc98f"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$InvoiceNo" ref="bf0d96312b5a2a2196f48e9c16dcc98f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$InvoiceNo = GetNextTransNo(10, $<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ef8ec367d2e117072ced899fa5bc2e22"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$LineCounter" ref="ef8ec367d2e117072ced899fa5bc2e22" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$<a class="el" href="_select_order_items_8php.html#c25826ca9828f9d2c4713731495f7235">LineCounter</a> = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="cdd3527f5c722793bcd0d79c0d236e1c"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$LineItemsResult" ref="cdd3527f5c722793bcd0d79c0d236e1c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$LineItemsResult = db_query($LineItemsSQL,$<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>,$ErrMsg)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="7efaa95541c54abc04aa74526c5ee46c"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$LineItemsSQL" ref="7efaa95541c54abc04aa74526c5ee46c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$LineItemsSQL          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> <span class="stringliteral">"SELECT recurrsalesorderdetails.stkcode,</span>
<span class="stringliteral">                                recurrsalesorderdetails.unitprice,</span>
<span class="stringliteral">                                recurrsalesorderdetails.quantity,</span>
<span class="stringliteral">                                recurrsalesorderdetails.discountpercent,</span>
<span class="stringliteral">                                recurrsalesorderdetails.narrative,</span>
<span class="stringliteral">                                stockmaster.taxcatid</span>
<span class="stringliteral">                        FROM recurrsalesorderdetails INNER JOIN stockmaster</span>
<span class="stringliteral">                                ON recurrsalesorderdetails.stkcode = stockmaster.stockid</span>
<span class="stringliteral">                        WHERE recurrsalesorderdetails.recurrorderno ="</span> . $RecurrOrderRow['recurrorderno']
</pre></div>
</div>
</div><p>
<a class="anchor" name="7d732704d1879c5455963ae4ebf3e114"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$LineNetAmount" ref="7d732704d1879c5455963ae4ebf3e114" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$LineNetAmount = $RecurrOrderLineRow['unitprice'] * $RecurrOrderLineRow['quantity'] *(1- floatval($RecurrOrderLineRow['discountpercent']))          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ff42070426a01e7aa719859a87db01c5"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$LineTaxAmount" ref="ff42070426a01e7aa719859a87db01c5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$LineTaxAmount = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b0e9106c4f4b2edd69351aff2d4fc659"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$LocalCurrencyPrice" ref="b0e9106c4f4b2edd69351aff2d4fc659" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$LocalCurrencyPrice = ($RecurrOrderLineRow['unitprice'] *(1- floatval($RecurrOrderLineRow['discountpercent'])))/ $CurrencyRate          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="a1aa9a4dbb80e146632425e9817e4e5a"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$myrow" ref="a1aa9a4dbb80e146632425e9817e4e5a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$myrow = DB_fetch_row($Result)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ae2b23e62c219b9c8356de20e94676cc"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$OrderNo" ref="ae2b23e62c219b9c8356de20e94676cc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$<a class="el" href="_select_order_items_8php.html#347e986395019d0a9411ee946ca0062b">OrderNo</a> = DB_Last_Insert_ID($<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>,'salesorders','orderno')          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="70af0b6de23d548786c940d42b02f6b6"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$PeriodNo" ref="70af0b6de23d548786c940d42b02f6b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$PeriodNo = GetPeriod(Date($_SESSION['DefaultDateFormat']), $<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1c504f1aedf70981b33a68ea77f96050"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$RecurrOrdersDueResult" ref="1c504f1aedf70981b33a68ea77f96050" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$RecurrOrdersDueResult = DB_query($sql,$<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>,_('There was <a class="el" href="help__pt-br__patient__folder_8php.html#71eb57b65d6970d51160a9e54bf7a324">a</a> problem retrieving the recurring sales order templates. The <a class="el" href="testdatabases_8inc_8php.html#9dad3d41236cdf64302a014d0495a408">database</a> reported:'))          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="390d5702f3c15330fd764dbf08d5b2db"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$Result" ref="390d5702f3c15330fd764dbf08d5b2db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$Result = DB_query($sql,$<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>,$ErrMsg,true)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="112ef069ddc0454086e3d1e6d8d55d07"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$result" ref="112ef069ddc0454086e3d1e6d8d55d07" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$<a class="el" href="help__en__admission__how2new_8php.html#38e3c9c5c2094734ea97d0c52c2c8a3b">result</a> = DB_query('BEGIN',$<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f257545da465befb663591fd6fbe85ce"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$SQL" ref="f257545da465befb663591fd6fbe85ce" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$SQL          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> <span class="stringliteral">"SELECT rate</span>
<span class="stringliteral">                                FROM currencies INNER JOIN debtorsmaster</span>
<span class="stringliteral">                                ON debtorsmaster.currcode=currencies.currabrev</span>
<span class="stringliteral">                                WHERE debtorno='"</span> . $RecurrOrderRow['debtorno'] . <span class="stringliteral">"'"</span>
</pre></div>
</div>
</div><p>
<a class="anchor" name="047170d6020a882807665812a27e2525"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$sql" ref="047170d6020a882807665812a27e2525" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$sql          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="92b56ffdcb04ced4dc713f20cf2583b2"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$StkMoveNo" ref="92b56ffdcb04ced4dc713f20cf2583b2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$StkMoveNo = DB_Last_Insert_ID($<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>,'stockmoves','stkmoveno')          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="435e1684215f730408afa573a3c8a9d7"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$TaxTotals" ref="435e1684215f730408afa573a3c8a9d7" args="[$myrow['taxauthid']]['FXAmount']" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$TaxTotals[$myrow['taxauthid']]['FXAmount'] = ($LineNetAmount+$LineTaxAmount) * $myrow['taxrate']          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="3274455a09b21b52043ac92d5c1faea7"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$TaxTotals" ref="3274455a09b21b52043ac92d5c1faea7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$TaxTotals = array()          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="da57e7bb7c152edad18fe2f166188691"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$title" ref="da57e7bb7c152edad18fe2f166188691" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$title = _('Recurring Orders Process')          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="118a8ddea85bc76305706a96a51dbce7"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$TotalFXNetInvoice" ref="118a8ddea85bc76305706a96a51dbce7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$TotalFXNetInvoice = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="eacbe4640a2768fc20fe5a03408d9097"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$TotalFXTax" ref="eacbe4640a2768fc20fe5a03408d9097" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$TotalFXTax = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="c77c7919b6478bfc27e4c9599fa46716"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::$TotalInvLocalCurr" ref="c77c7919b6478bfc27e4c9599fa46716" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$TotalInvLocalCurr = ($TotalFXNetInvoice + $TotalFXTax + $RecurrOrderRow['freightcost'])/$CurrencyRate          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="6733eb5f605d09eaede9845835d71c4e"></a><!-- doxytag: member="RecurringSalesOrdersProcess.php::exit" ref="6733eb5f605d09eaede9845835d71c4e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="radiology_2dicom__img_2donotremove_2index_8php.html#6733eb5f605d09eaede9845835d71c4e">exit</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Jan 5 05:32:30 2008 for Care2x by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
