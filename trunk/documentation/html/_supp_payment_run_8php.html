<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Care2x: C:/Users/holyghost/care2x/trunk/Care2007/modules/weberp/SuppPaymentRun.php File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Packages</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<h1>C:/Users/holyghost/care2x/trunk/Care2007/modules/weberp/SuppPaymentRun.php File Reference</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#7872946383a8a59a76223d8aa5cfb840">$PageSecurity</a> = 5</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#691f16bc77c021a6194d6b4b46e6ace5">$PageNumber</a> = 1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#4131d1765ee4deb28e83fc4527943ee0">$line_height</a> = 12</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#047170d6020a882807665812a27e2525">$sql</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#af378a7316e756da943fbec316a3887b">$SuppliersResult</a> = DB_query($sql,$<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#0f5bb601f548673f558fe79ed41c19fd">$SupplierID</a> = ''</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#1d74084e41e31c7deb1a3ea0c57b4fc1">$TotalPayments</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#687c1e22d6b2345d588983affe47b1d7">$TotalAccumDiffOnExch</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#6733eb5f605d09eaede9845835d71c4e">exit</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#2b478d0003440e61ad49a41e26ecf4e8">$Allocs</a> = array()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#faf16dbef88d8072c6650cce04469f51">$AllocCounter</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#53d2737329a47656807790a430c6b4e4">$SupplierName</a> = $DetailTrans['suppname']</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#7b849958a920cca11e8620acf8406907">$AccumBalance</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#abf9592b57fc042f4a86db0e79ee72f5">$AccumDiffOnExch</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#24004e52ccb79985ad7e64d8902765d4">$LeftOvers</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#4c33bafeba19c784cc21a49add51a53d">$YPos</a> = $line_height</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#8e98ceedc4614bf3dfeb1a5936de1ef9">$DislayTranDate</a> = ConvertSQLDate($DetailTrans['trandate'])</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#26b6025982e0d9cf7db4c6e3114f5887">$DiffOnExch</a> = ($DetailTrans['balance'] / $DetailTrans['rate']) - ($DetailTrans['balance'] / $_POST['<a class="el" href="_supplier_invoice_8php.html#450be941aa4321d59f09fb31322e9e4c">ExRate</a>'])</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#f257545da465befb663591fd6fbe85ce">$SQL</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#c97373c655732b3658b65e8d20f04aae">$ProcessResult</a> = DB_query($SQL,$<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>,'','',<a class="el" href="neonatal__classifications_8php.html#cb9ab9ad39695b5317e46bfa66adb849">false</a>,<a class="el" href="neonatal__classifications_8php.html#cb9ab9ad39695b5317e46bfa66adb849">false</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#6b9aead899bafbd080a6faef6b5650ad">$pdfcode</a> = $pdf-&gt;output()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_supp_payment_run_8php.html#a28657aaa5fcc7509dd883662f8accbe">$len</a> = strlen($pdfcode)</td></tr>

</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="7b849958a920cca11e8620acf8406907"></a><!-- doxytag: member="SuppPaymentRun.php::$AccumBalance" ref="7b849958a920cca11e8620acf8406907" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$AccumBalance = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="abf9592b57fc042f4a86db0e79ee72f5"></a><!-- doxytag: member="SuppPaymentRun.php::$AccumDiffOnExch" ref="abf9592b57fc042f4a86db0e79ee72f5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$AccumDiffOnExch = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="faf16dbef88d8072c6650cce04469f51"></a><!-- doxytag: member="SuppPaymentRun.php::$AllocCounter" ref="faf16dbef88d8072c6650cce04469f51" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$AllocCounter = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="2b478d0003440e61ad49a41e26ecf4e8"></a><!-- doxytag: member="SuppPaymentRun.php::$Allocs" ref="2b478d0003440e61ad49a41e26ecf4e8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$Allocs = array()          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="26b6025982e0d9cf7db4c6e3114f5887"></a><!-- doxytag: member="SuppPaymentRun.php::$DiffOnExch" ref="26b6025982e0d9cf7db4c6e3114f5887" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$DiffOnExch = ($DetailTrans['balance'] / $DetailTrans['rate']) - ($DetailTrans['balance'] / $_POST['<a class="el" href="_supplier_invoice_8php.html#450be941aa4321d59f09fb31322e9e4c">ExRate</a>'])          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="8e98ceedc4614bf3dfeb1a5936de1ef9"></a><!-- doxytag: member="SuppPaymentRun.php::$DislayTranDate" ref="8e98ceedc4614bf3dfeb1a5936de1ef9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$DislayTranDate = ConvertSQLDate($DetailTrans['trandate'])          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="24004e52ccb79985ad7e64d8902765d4"></a><!-- doxytag: member="SuppPaymentRun.php::$LeftOvers" ref="24004e52ccb79985ad7e64d8902765d4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$LeftOvers          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> <a class="code" href="readme_8php.html#964ee5ee597c515cbb4dad2f14054cb4">$pdf</a>-&gt;addTextWrap(<a class="code" href="_p_d_f_sales_analysis_8inc.html#2e65fabc520ae87fdffb19e36038b937">$Left_Margin</a>,
                                                                        <a class="code" href="_aged_debtors_8php.html#4c33bafeba19c784cc21a49add51a53d">$YPos</a>,
                                                                        450-<a class="code" href="_p_d_f_sales_analysis_8inc.html#2e65fabc520ae87fdffb19e36038b937">$Left_Margin</a>,
                                                                        <a class="code" href="_aged_debtors_8php.html#ead8aecd44e0725acd81fb3130b471e7">$FontSize</a>,
                                                                        $DetailTrans['supplierid'] . ' - ' . $DetailTrans['suppname'] . ' - ' . $DetailTrans['terms'],
                                                                        'left')
</pre></div>
</div>
</div><p>
<a class="anchor" name="a28657aaa5fcc7509dd883662f8accbe"></a><!-- doxytag: member="SuppPaymentRun.php::$len" ref="a28657aaa5fcc7509dd883662f8accbe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$len = strlen($pdfcode)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="4131d1765ee4deb28e83fc4527943ee0"></a><!-- doxytag: member="SuppPaymentRun.php::$line_height" ref="4131d1765ee4deb28e83fc4527943ee0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$line_height = 12          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="691f16bc77c021a6194d6b4b46e6ace5"></a><!-- doxytag: member="SuppPaymentRun.php::$PageNumber" ref="691f16bc77c021a6194d6b4b46e6ace5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$PageNumber = 1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="7872946383a8a59a76223d8aa5cfb840"></a><!-- doxytag: member="SuppPaymentRun.php::$PageSecurity" ref="7872946383a8a59a76223d8aa5cfb840" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$PageSecurity = 5          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="6b9aead899bafbd080a6faef6b5650ad"></a><!-- doxytag: member="SuppPaymentRun.php::$pdfcode" ref="6b9aead899bafbd080a6faef6b5650ad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$pdfcode = $pdf-&gt;output()          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="c97373c655732b3658b65e8d20f04aae"></a><!-- doxytag: member="SuppPaymentRun.php::$ProcessResult" ref="c97373c655732b3658b65e8d20f04aae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$ProcessResult = DB_query($SQL,$<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>,'','',<a class="el" href="neonatal__classifications_8php.html#cb9ab9ad39695b5317e46bfa66adb849">false</a>,<a class="el" href="neonatal__classifications_8php.html#cb9ab9ad39695b5317e46bfa66adb849">false</a>)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f257545da465befb663591fd6fbe85ce"></a><!-- doxytag: member="SuppPaymentRun.php::$SQL" ref="f257545da465befb663591fd6fbe85ce" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$SQL          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> <span class="stringliteral">"UPDATE supptrans SET settled = 1,</span>
<span class="stringliteral">                                                                alloc = "</span> . $DetailTrans['trantotal'] . <span class="stringliteral">",</span>
<span class="stringliteral">                                                                diffonexch = "</span> . ($DetailTrans['diffonexch'] + <a class="code" href="_supp_payment_run_8php.html#26b6025982e0d9cf7db4c6e3114f5887">$DiffOnExch</a>)  . <span class="stringliteral">"</span>
<span class="stringliteral">                                        WHERE type = "</span> . $DetailTrans['type'] . '
                                        AND transno = ' . $DetailTrans['transno']
</pre></div>
</div>
</div><p>
<a class="anchor" name="047170d6020a882807665812a27e2525"></a><!-- doxytag: member="SuppPaymentRun.php::$sql" ref="047170d6020a882807665812a27e2525" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$sql          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> <span class="stringliteral">"SELECT suppliers.supplierid, </span>
<span class="stringliteral">                        SUM(supptrans.ovamount + supptrans.ovgst - supptrans.alloc) AS balance</span>
<span class="stringliteral">                FROM suppliers, </span>
<span class="stringliteral">                        paymentterms, </span>
<span class="stringliteral">                        supptrans, </span>
<span class="stringliteral">                        systypes</span>
<span class="stringliteral">                WHERE systypes.typeid = supptrans.type </span>
<span class="stringliteral">                AND suppliers.paymentterms = paymentterms.termsindicator </span>
<span class="stringliteral">                AND suppliers.supplierid = supptrans.supplierno</span>
<span class="stringliteral">                AND supptrans.ovamount + supptrans.ovgst - supptrans.alloc !=0</span>
<span class="stringliteral">                AND supptrans.duedate &lt;='"</span> . <a class="code" href="_date_functions_8inc.html#41b4f65754005f9b7b6ec06a95dd4445">FormatDateForSQL</a>(<a class="code" href="_account_groups_8php.html#d0183bc2cc546700caa03d8f3215eefc">$_POST</a>['AmountsDueBy']) . <span class="stringliteral">"' </span>
<span class="stringliteral">                AND supptrans.hold=0 </span>
<span class="stringliteral">                AND suppliers.currcode = '"</span> . <a class="code" href="_account_groups_8php.html#d0183bc2cc546700caa03d8f3215eefc">$_POST</a>['Currency'] . <span class="stringliteral">"'</span>
<span class="stringliteral">                AND supptrans.supplierNo &gt;= '"</span> . <a class="code" href="_account_groups_8php.html#d0183bc2cc546700caa03d8f3215eefc">$_POST</a>['FromCriteria'] . <span class="stringliteral">"' </span>
<span class="stringliteral">                AND supptrans.supplierno &lt;= '"</span> . <a class="code" href="_account_groups_8php.html#d0183bc2cc546700caa03d8f3215eefc">$_POST</a>['ToCriteria'] . <span class="stringliteral">"'</span>
<span class="stringliteral">                GROUP BY suppliers.supplierid</span>
<span class="stringliteral">                HAVING SUM(supptrans.ovamount + supptrans.ovgst - supptrans.alloc) &gt; 0</span>
<span class="stringliteral">                ORDER BY suppliers.supplierid"</span>
</pre></div>
</div>
</div><p>
<a class="anchor" name="0f5bb601f548673f558fe79ed41c19fd"></a><!-- doxytag: member="SuppPaymentRun.php::$SupplierID" ref="0f5bb601f548673f558fe79ed41c19fd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$<a class="el" href="_supplier_allocations_8php.html#b88e2ec89c60c4c644bb717ec6641c84">SupplierID</a> = ''          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="53d2737329a47656807790a430c6b4e4"></a><!-- doxytag: member="SuppPaymentRun.php::$SupplierName" ref="53d2737329a47656807790a430c6b4e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$<a class="el" href="_supplier_invoice_8php.html#d2d9d8fd8ef5c766bb91fee6e727348c">SupplierName</a> = $DetailTrans['suppname']          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="af378a7316e756da943fbec316a3887b"></a><!-- doxytag: member="SuppPaymentRun.php::$SuppliersResult" ref="af378a7316e756da943fbec316a3887b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$SuppliersResult = DB_query($sql,$<a class="el" href="help__tr__products_8php.html#1fe2e89bffe468696d8552cde36d35e5">db</a>)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="687c1e22d6b2345d588983affe47b1d7"></a><!-- doxytag: member="SuppPaymentRun.php::$TotalAccumDiffOnExch" ref="687c1e22d6b2345d588983affe47b1d7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$TotalAccumDiffOnExch = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1d74084e41e31c7deb1a3ea0c57b4fc1"></a><!-- doxytag: member="SuppPaymentRun.php::$TotalPayments" ref="1d74084e41e31c7deb1a3ea0c57b4fc1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$TotalPayments = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="4c33bafeba19c784cc21a49add51a53d"></a><!-- doxytag: member="SuppPaymentRun.php::$YPos" ref="4c33bafeba19c784cc21a49add51a53d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$YPos = $line_height          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="6733eb5f605d09eaede9845835d71c4e"></a><!-- doxytag: member="SuppPaymentRun.php::exit" ref="6733eb5f605d09eaede9845835d71c4e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="radiology_2dicom__img_2donotremove_2index_8php.html#6733eb5f605d09eaede9845835d71c4e">exit</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Jan 5 05:32:31 2008 for Care2x by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
