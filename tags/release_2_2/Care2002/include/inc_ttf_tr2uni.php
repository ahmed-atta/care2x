<?php
	#====================================================================================================#
	# tr2uni v0.1 (Turkish-iso8859-9 encoder to Unicode)                                                                                                            # 
	#====================================================================================================	#
	# Information:                                                                                 		#
	#        This is PHP function for covert Turkish encoding string to                                   	#
	#        unicode that can use to show Turkish charactor in  function ImageTTFText().                  	#
	#        It Tested and worked with Multilanguage arial.ttf V2.98                                     	#
	#                                                                                                    	#
	#                                                                                                    	#
	# Bug Report and Suggestion to:                                                                      	#
	#        Bulent Potur                                                                             	#
	#        bpotur@gmail.com                                                                      		#
	#                                                                                                    	#
	#====================================================================================================	#
	# Example:                                                                                           #
	#        include_once($root_path.'inc_ttf_tr2uni.php');                                              #
	#        ImageTTFText ($image, 8, 0, 3, 15, $white, "arial.ttf",tr2uni("$Turkishstring"));           #
	#====================================================================================================#
	# Version History:                                                                                   #
	#        version 0.1 : First release for Arabic. created on ( 22/01/2004) By Walid Fathalla          #
	#        version 0.1.1: First release for Turkish created on ( 01/11/2005) By Bulent Potur           #
	# For Arabic Website: If you thing this module useful to you, please send to                         #
	#                     me back to my email fathalla_w@hotmail.com.                                    #
	#                                                                                                    #
	#====================================================================================================#  #================================================// Turkish character maps//=============================================
	$tr2unimap = array( // One bit character isolated form
	'1' => "&#0049;", '2' => "&#0050;", '3' => "&#0051;", '4' => "&#0052;", '5' => "&#0053;", '6' => "&#0054;", '7' => "&#0055;",
	'8' => "&#0056;", '9' => "&#0057;", '0' => "&#0048;", '/' => "&#0047;", '+' => "&#0043;", '-' => "&#0045;", '?' => "&#0063;",
	',' => "&#0044;", '.' => "&#0046;", '?' => "&#0063;", 'A' => "&#0065;", 'B' => "&#0066;", 'C' => "&#0067;", 'Ç' => "&#0199;",
	'D' => "&#0068;", 'E' => "&#0069;", 'F' => "&#0070;", 'G' => "&#0071;", 'Ð' => "&#0286;", 'H' => "&#0072;", 'I' => "&#0073;",
	'Ý' => "&#0304;", 'J' => "&#0074;", 'K' => "&#0075;", 'L' => "&#0076;", 'M' => "&#0077;", 'N' => "&#0078;", 'O' => "&#0079;",
	'Ö' => "&#0214;", 'P' => "&#0080;", 'R' => "&#0082;", 'S' => "&#0083;", 'Þ' => "&#0350;", 'T' => "&#0084;", 'U' => "&#0085;",
	'Ü' => "&#0220;", 'V' => "&#0086;", 'Y' => "&#0089;", 'Z' => "&#0090;", 'a' => "&#0097;", 'b' => "&#0098;", 'c' => "&#0099;",
	'ç' => "&#0231;", 'd' => "&#0100;", 'e' => "&#0101;", 'f' => "&#0102;", 'g' => "&#0103;", 'ð' => "&#00287;", 'h' => "&#0104;",
	'ý' => "&#0305;", 'i' => "&#0105;", 'j' => "&#0106;", 'k' => "&#0107;", 'l' => "&#0108;", 'm' => "&#0109;", 'n' => "&#0110;",
	'o' => "&#0111;", 'ö' => "&#0246;", 'p' => "&#0112;", 'r' => "&#0114;", 's' => "&#0115;", 'þ' => "&#0351;", 't' => "&#0116;",
	'u' => "&#0117;", 'ü' => "&#0252;", 'v' => "&#0118;", 'y' => "&#0121;", 'z' => "&#0122;", '$' => "&#00287;", 'Q' => "&#0081;",
	'â' => "&#0305;", 'w' => "&#0119;", 'W' => "&#0089;", 'x' => "&#0120;", 'X' => "&#0088;", 'q' => "&#0113;", ' ' => "&#0032;");

	#================================================// end of character maps//=============================================

	function tr2uni($sti){
	global $tr2unimap;
	
	
	# Patch by Elpidio 2004-02-06

	if(strstr($sti,'&#')&&strstr($sti,';')){
		$buf=explode(';',$sti);
		
		# Remove the first element which is empty
		
		$sti=implode(';',$buf);
	 	return ($sti).';';
	  }else{
		
	$sti .= " ";
    #$temp = $sti;
    #$sti = strrev($temp);
    #$sti = ($sti) + " "
    $temp = $sti;
    #$sti = strrev($temp);
    $sti .= " ";
	$sto=' ';
	$len=strlen($sti);
	
	for ($i=0; $i < $len; $i++){
	
	#=========================// for one bit character have 1 form//================
	$sto .=$tr2unimap[$sti{$i}];
	}
	return $sto;
	}
	}
?>